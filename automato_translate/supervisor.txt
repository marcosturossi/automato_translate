VAR
//ESTADOS 
STATE0: BOOL := TRUE;
STATE1: BOOL := FALSE;
STATE2: BOOL := FALSE;
STATE3: BOOL := FALSE;

//EVENTOS 
EVENT1: BOOL := FALSE;
EVENT3: BOOL := FALSE;
EVENT4: BOOL := FALSE;
EVENT5: BOOL := FALSE;

//ENTRADAS 
INPUT1: BOOL := FALSE;
INPUT3: BOOL := FALSE;
INPUT5: BOOL := FALSE;

//SAIDAS 
EXIT4: BOOL := FALSE;
END_VAR 

//LER ENTRADAS 
IF INPUT1 THEN 
  EVENT1 := TRUE; 
END_IF 
IF INPUT3 THEN 
  EVENT3 := TRUE; 
END_IF 
IF INPUT5 THEN 
  EVENT5 := TRUE; 
END_IF 

//Atualiza ESTADOS 
IF STATE0 THEN 
STATE1 := TRUE; 
EVENT1 := TRUE; 
EVENT0 := FALSE; 
END_IF 
IF STATE1 THEN 
STATE2 := TRUE; 
EVENT3 := TRUE; 
EVENT1 := FALSE; 
END_IF 
IF EVENT2 AND STATE2 THEN 
STATE3 := TRUE; 
EVENT2 := FALSE; 
END_IF 
IF STATE3 THEN 
STATE0 := TRUE; 
EVENT5 := TRUE; 
EVENT3 := FALSE; 
END_IF 

//Atualiza SAIDAS 
IF EVENT1 THEN 
EXIT1 := TRUE; 
END_IF 
IF EVENT2 THEN 
EXIT1 := FALSE; 
END_IF 
